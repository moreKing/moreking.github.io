import{_ as i,c as a,ai as n,o as l}from"./chunks/framework.DcWFUpHS.js";const c=JSON.parse('{"title":"导入导出","description":"","frontmatter":{},"headers":[],"relativePath":"docker/docker/05.md","filePath":"docker/docker/05.md","lastUpdated":1737611111000}'),e={name:"docker/docker/05.md"};function h(p,s,t,k,r,F){return l(),a("div",null,s[0]||(s[0]=[n(`<h1 id="导入导出" tabindex="-1">导入导出 <a class="header-anchor" href="#导入导出" aria-label="Permalink to &quot;导入导出&quot;">​</a></h1><p>在某些情况下，我们自定义镜像作为模版，比如在Ubuntu容器安装Java运行环境，我们可以将此初始化好的环境导出称为镜像，以后使用此镜像来创建容器，就自带了java的运行环境，而不用每次创建容器都进行环境的安装，类似虚拟机的模板文件</p><p>当然也可以使用<code>Dockerfile</code>直接构建镜像，但是<code>Dockerfile</code>需要编写，而导出镜像则不需要编写，直接将容器导出即可，当然，导出的镜像也可以导入到其他服务器上使用，导入的镜像可以创建容器，也可以直接使用，导入的镜像也可以作为模板进行修改，创建新的镜像。</p><h2 id="_1-容器的导入导出" tabindex="-1">1 容器的导入导出 <a class="header-anchor" href="#_1-容器的导入导出" aria-label="Permalink to &quot;1 容器的导入导出&quot;">​</a></h2><h3 id="_1-1-容器导出" tabindex="-1">1.1 容器导出 <a class="header-anchor" href="#_1-1-容器导出" aria-label="Permalink to &quot;1.1 容器导出&quot;">​</a></h3><p><code>docker export -o 文件名.tar 容器ID</code></p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">root@kali:~#</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> export</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> myAlpine.tar.gz</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 9188</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">root@kali:~#</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ls</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">myAlpine.tar.gz</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  thinclient_drives</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_1-2-容器导入" tabindex="-1">1.2 容器导入 <a class="header-anchor" href="#_1-2-容器导入" aria-label="Permalink to &quot;1.2 容器导入&quot;">​</a></h3><p><code>docker import 文件名 镜像用户/镜像名:镜像版本号</code></p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">root@kali:~#</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> myAlpine.tar.gz</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> moujun/my-alpine:0.0.1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sha256:0a79a0402e43234468b0896277bf342c385f73134ac21ecde0e012c946fa0318</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">root@kali:~#</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> images</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                       </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">REPOSITORY</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                         TAG</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">           IMAGE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ID</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       CREATED</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">         SIZE</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">moujun/my-alpine</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                   0.0.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">         0a79a0402e43</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   7</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> seconds</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ago</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   5.59MB</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">alpine</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                             latest</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        c059bfaa849c</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   7</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> weeks</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ago</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     5.59MB</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ubuntu</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                             latest</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        ba6acccedd29</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> months</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ago</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    72.8MB</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">root@kali:~#</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="danger custom-block"><p class="custom-block-title">注意</p><p>镜像名称必须要小写，否则报错</p></div><h2 id="_2-镜像的导入导出" tabindex="-1">2 镜像的导入导出 <a class="header-anchor" href="#_2-镜像的导入导出" aria-label="Permalink to &quot;2 镜像的导入导出&quot;">​</a></h2><h3 id="_2-1-镜像导出" tabindex="-1">2.1 镜像导出 <a class="header-anchor" href="#_2-1-镜像导出" aria-label="Permalink to &quot;2.1 镜像导出&quot;">​</a></h3><p><code>docker save -o 文件名.tar 镜像名[:镜像tag] </code></p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">root@kali:~#</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> save</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> myAlpine.tar.gz</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> moujun/my-alpine:0.0.1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">root@kali:~#</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ls</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">myAlpine.tar.gz</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  myAlpine.tar.gz</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  thinclient_drives</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_2-2-镜像导入" tabindex="-1">2.2 镜像导入 <a class="header-anchor" href="#_2-2-镜像导入" aria-label="Permalink to &quot;2.2 镜像导入&quot;">​</a></h3><p><code>docker load -i 文件名.tar</code></p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">root@kali:~#</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> load</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> myAlpine.tar.gz</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Loaded</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> image</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ID:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sha256:0a79a0402e43234468b0896277bf342c385f73134ac21ecde0e012c946fa0318</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">root@kali:~#</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> images</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">REPOSITORY</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                         TAG</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">           IMAGE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ID</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       CREATED</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">         SIZE</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">moujun/my-alpine</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">                   0.0.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">         0a79a0402e43</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> minutes</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ago</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   5.59MB</span></span>
<span class="line highlighted"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">alpine</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                             latest</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        c059bfaa849c</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   7</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> weeks</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ago</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     5.59MB</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ubuntu</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                             latest</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        ba6acccedd29</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> months</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ago</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    72.8MB</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div>`,18)]))}const o=i(e,[["render",h]]);export{c as __pageData,o as default};
